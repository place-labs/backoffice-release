(window.webpackJsonp=window.webpackJsonp||[]).push([[8],{"OZ/3":function(t,e){},aCzL:function(t,e,i){"use strict";i.r(e);var n=i("ofXK"),o=i("3Pt+"),c=i("tyNb"),s=i("THE0"),a=i("C/ya"),r=i("D/9M"),d=i("g+Po"),l=i("Wgwc"),h=i("fXoL"),b=i("OaWH"),m=i("0IaG"),u=i("BAfr"),p=i("m6yr"),f=i("47y3");const g=function(){return{class:"backoffice-publish"}},_=function(t,e){return{id:"applications",name:"Applications",count:t,icon:e}},w=function(){return{class:"backoffice-lock-open"}},v=function(t,e){return{id:"authentication",name:"Authentication",count:t,icon:e}},y=function(){return{class:"backoffice-users"}},O=function(t,e){return{id:"users",name:"Users",count:t,icon:e}},C=function(t,e,i){return[t,e,i]};let P=(()=>{class t extends a.a{constructor(t,e,i,n){super(t,e,i),this._service=t,this._route=e,this._router=i,this._dialog=n,this.service=this._service.Domains}ngOnInit(){super.ngOnInit(),this._service.set("APP_LIST_CHANGE",l().valueOf()),this.subscription("changes",this._service.listen("APP_LIST_CHANGE").subscribe(()=>{this.loadValues()})),this._service.title="Domains"}loadValues(){if(!this.item)return;let t={offset:0,limit:1,owner:this.item.id};this._service.Applications.query(t).then(t=>this.applications=this._service.Applications.last_total||t.length||0),t={offset:0,limit:1,authority_id:this.item.id},this._service.Users.query(t).then(t=>this.user_count=this._service.Users.last_total||t.length||0)}newItem(t=!1){this.modal_ref||(this.modal_ref=this._dialog.open(r.a,{height:"auto",width:"auto",maxHeight:"calc(100vh - 2em)",maxWidth:"calc(100vw - 2em)",data:{item:t?new s.f(Object.assign(Object.assign({},this.item),{id:"",name:`${this.item.name} (1)`})):new s.f,service:this._service.Domains}}),this.subscription("modal_events",this.modal_ref.componentInstance.event.subscribe(t=>{"done"===t.reason&&this._router.navigate(["/domains",t.metadata.item.id])})),this.modal_ref.afterClosed().subscribe(()=>{this.unsub("modal_events"),this.modal_ref=null}))}editItem(){this.item&&!this.modal_ref&&(this.modal_ref=this._dialog.open(r.a,{height:"auto",width:"auto",maxHeight:"calc(100vh - 2em)",maxWidth:"calc(100vw - 2em)",data:{item:this.item,service:this._service.Domains}}),this.modal_ref.afterClosed().subscribe(()=>{this.unsub("modal_events"),this.modal_ref=null}))}deleteItem(){this.item&&!this.modal_ref&&(this.modal_ref=this._dialog.open(d.b,Object.assign(Object.assign({},d.a),{data:{title:"Delete domain",content:"<p>Are you sure you want delete this domain?</p><p>The domain will be deleted <strong>immediately.</strong></p>",icon:{type:"icon",class:"backoffice-trash"}}})),this.subscription("delete_confirm",this.modal_ref.componentInstance.event.subscribe(t=>{"done"===t.reason&&(this.modal_ref.componentInstance.loading="Deleting domain...",this.item.delete().then(()=>{this._service.notifySuccess(`Successfully deleted domain "${this.item.name}".`),this._router.navigate(["/users"]),this._service.set("BACKOFFICE.removed",this.item.id),this.modal_ref.close()},t=>{this.modal_ref.componentInstance.loading=null,this._service.notifyError(`Error deleting domain. Error: ${JSON.stringify(t.response||t.message||t)}`)}))})),this.modal_ref.afterClosed().subscribe(()=>{this.unsub("modal_events"),this.modal_ref=null}))}}return t.\u0275fac=function(e){return new(e||t)(h.Rb(b.a),h.Rb(c.a),h.Rb(c.c),h.Rb(m.b))},t.\u0275cmp=h.Lb({type:t,selectors:[["app-domains"]],features:[h.Ab],decls:5,vars:22,consts:[[1,"container"],[1,"sidebar"],["heading","Domains",3,"module","close","event"],[3,"touchrelease"],["name","domain","route","domains",3,"item","tabs","event"]],template:function(t,e){1&t&&(h.Xb(0,"div",0),h.Xb(1,"div",1),h.Xb(2,"sidebar",2),h.mc("event",(function(t){return e.sidebarEvent(t)})),h.Wb(),h.Wb(),h.Xb(3,"main",3),h.mc("touchrelease",(function(){return e.show_sidebar=!1})),h.Xb(4,"item-display",4),h.mc("event",(function(t){return e.itemEvent(t)})),h.Wb(),h.Wb(),h.Wb()),2&t&&(h.Hb("show",e.show_sidebar),h.Db(2),h.wc("module",e.module)("close",e.show_sidebar),h.Db(2),h.wc("item",e.item)("tabs",h.Ac(18,C,h.zc(7,_,e.applications||0,h.xc(6,g)),h.zc(11,v,e.auth_sources||0,h.xc(10,w)),h.zc(15,O,e.user_count||0,h.xc(14,y)))))},directives:[u.a,p.b,f.a],styles:[".container[_ngcontent-%COMP%]{display:flex;align-items:center;height:100%;width:100%}@media only screen and (orientation:portrait) and (max-width:450px){.container[_ngcontent-%COMP%]{flex-direction:column}}@media only screen and (orientation:landscape) and (max-width:800px){.container[_ngcontent-%COMP%]{flex-direction:column}}@media only screen and (orientation:portrait) and (max-width:450px){.container.show[_ngcontent-%COMP%]   .sidebar[_ngcontent-%COMP%]{height:100%}}@media only screen and (orientation:landscape) and (max-width:800px){.container.show[_ngcontent-%COMP%]   .sidebar[_ngcontent-%COMP%]{height:100%}}@media only screen and (orientation:portrait) and (max-width:450px){.container.show[_ngcontent-%COMP%]   main[_ngcontent-%COMP%]{height:0%}}@media only screen and (orientation:landscape) and (max-width:800px){.container.show[_ngcontent-%COMP%]   main[_ngcontent-%COMP%]{height:0%}}.sidebar[_ngcontent-%COMP%]{height:100%;width:20em}@media only screen and (orientation:portrait) and (max-width:450px){.sidebar[_ngcontent-%COMP%]{height:3em;min-height:3em;width:100%;transition:height .3s}}@media only screen and (orientation:landscape) and (max-width:800px){.sidebar[_ngcontent-%COMP%]{height:3em;min-height:3em;width:100%;transition:height .3s}}main[_ngcontent-%COMP%]{position:relative;height:100%;overflow:hidden;flex:1;background-color:#f0f0f0}@media only screen and (orientation:portrait) and (max-width:450px){main[_ngcontent-%COMP%]{transition:height .3s;width:100%}}@media only screen and (orientation:landscape) and (max-width:800px){main[_ngcontent-%COMP%]{transition:height .3s;width:100%}}"]}),t})();var W,x,X,A,M,S,I=i("5f3J"),D=i("YxBP"),k=i("bTqV"),T=i("Qu3c"),$=i("0njA");W=$localize`:@@newAction␟52cb3a1dbc20365867f39819932e43d19542474d␟4948407374074297419:Add new`,x=$localize`:@@applicationTableName␟cff1428d10d59d14e45edec3c735a27b5482db59␟8953033926734869941:Name`,X=$localize`:@@applicationTableRedirect␟35b26492e63567eae1f0a480bdd793f1dc335b80␟7549750882380880957:Redirect`,A=$localize`:@@applicationTableClientId␟152344a93fb1022382cc1a10e38e4290019224e4␟5273501066845923426:Client ID`,M=$localize`:@@applicationTableClientSecret␟124424c2379dec595edaef370b2554b2f86ea105␟7896650584449704588:Secret`,S=$localize`:@@applicationTableScope␟1481b8488e10dbc437accce89d2ae35a0106e8ba␟5590086849807274701:Scope`;const E=function(){return{class:"backoffice-edit"}},z=function(){return{class:"backoffice-trash"}};function R(t,e){if(1&t){const t=h.Yb();h.Xb(0,"tr"),h.Xb(1,"td",12),h.Rc(2),h.Wb(),h.Xb(3,"td",8),h.Xb(4,"a",13),h.Rc(5),h.Wb(),h.Wb(),h.Xb(6,"td",14),h.Rc(7),h.Wb(),h.Xb(8,"td",15),h.mc("click",(function(){h.Hc(t);const i=e.$implicit,n=h.qc(3);return n.show_secret[i.id]?n.copySecret(i):n.show_secret[i.id]=!0})),h.Rc(9),h.Wb(),h.Xb(10,"td",9),h.Rc(11),h.Wb(),h.Xb(12,"td",10),h.Xb(13,"button",16),h.mc("tapped",(function(){h.Hc(t);const i=e.$implicit;return h.qc(3).editApplication(i)})),h.Sb(14,"app-icon",17),h.Wb(),h.Xb(15,"button",16),h.mc("tapped",(function(){h.Hc(t);const i=e.$implicit;return h.qc(3).deleteApplication(i)})),h.Sb(16,"app-icon",17),h.Wb(),h.Wb(),h.Wb()}if(2&t){const t=e.$implicit,i=h.qc(3);h.Db(1),h.wc("matTooltip",t.id),h.Db(1),h.Sc(t.name),h.Db(2),h.wc("href",t.redirect_uri,h.Kc),h.Db(1),h.Sc(t.redirect_uri),h.Db(2),h.Sc(t.uid),h.Db(2),h.Tc(" ",i.show_secret[t.id]?t.secret:"Show"," "),h.Db(2),h.Sc(t.scopes),h.Db(3),h.wc("icon",h.xc(9,E)),h.Db(2),h.wc("icon",h.xc(10,z))}}function q(t,e){if(1&t&&(h.Xb(0,"div",6),h.Xb(1,"table"),h.Xb(2,"thead"),h.Xb(3,"td",7),h.bc(4,x),h.Wb(),h.Xb(5,"td",8),h.bc(6,X),h.Wb(),h.Xb(7,"td",8),h.bc(8,A),h.Wb(),h.Xb(9,"td",8),h.bc(10,M),h.Wb(),h.Xb(11,"td",9),h.bc(12,S),h.Wb(),h.Sb(13,"td",10),h.Wb(),h.Xb(14,"tbody"),h.Pc(15,R,17,11,"tr",11),h.Wb(),h.Wb(),h.Wb()),2&t){const t=h.qc(2);h.Db(15),h.wc("ngForOf",t.application_list)}}var F;function N(t,e){1&t&&(h.Xb(0,"div",18),h.Xb(1,"div",19),h.bc(2,F),h.Wb(),h.Wb())}function j(t,e){if(1&t){const t=h.Yb();h.Xb(0,"div",1),h.Xb(1,"section",2),h.Xb(2,"button",3),h.mc("tapped",(function(){return h.Hc(t),h.qc().newApplication()})),h.bc(3,W),h.Wb(),h.Wb(),h.Xb(4,"section"),h.Pc(5,q,16,1,"div",4),h.Pc(6,N,3,0,"div",5),h.Wb(),h.Wb()}if(2&t){const t=h.qc();h.Db(5),h.wc("ngIf",t.application_list&&t.application_list.length>0),h.Db(1),h.wc("ngIf",!t.application_list||t.application_list.length<=0)}}F=$localize`:@@applicationTableEmpty␟923cb1a5e46a6e5ba971e0cd2fa58c53e4ad4f26␟342003372328863922:No applications found`;let H=(()=>{class t extends I.a{constructor(t,e){super(),this._service=t,this._dialog=e,this.show_secret={}}ngOnInit(){this.subscription("item",this._service.listen("BACKOFFICE.active_item").subscribe(t=>{this.item=t,this.loadApplications()}))}ngOnChanges(t){t.item&&this.loadApplications()}copySecret(t){this.show_secret[t.id]=!1,Object(D.a)(t.secret),this._service.notifyInfo("Copied client secret to clipboard")}loadApplications(t=0){this.item&&this._service.Applications.query({owner_id:this.item.id,offset:t}).then(e=>{t||(this.application_list=[]);for(const t of e||[]){let e=!1;for(const i of this.application_list)if(i.id===t.id){e=!0;break}e||this.application_list.push(t)}},()=>null)}newApplication(){const t=this._dialog.open(r.a,{height:"auto",width:"auto",maxHeight:"calc(100vh - 2em)",maxWidth:"calc(100vw - 2em)",data:{item:new s.d,service:this._service.Applications}});this.subscription("item-form",t.componentInstance.event.subscribe(t=>{"done"===t.reason&&(this.application_list=[...this.application_list,t.metadata.item],this._service.set("APP_LIST_CHANGE",l().valueOf()))}))}editApplication(t){if(this.item){const e=this._dialog.open(r.a,{height:"auto",width:"auto",maxHeight:"calc(100vh - 2em)",maxWidth:"calc(100vw - 2em)",data:{item:t,service:this._service.Applications}});this.subscription("item-form",e.componentInstance.event.subscribe(t=>{if("done"===t.reason){const e=this.application_list.findIndex(e=>e.id===t.metadata.item.id);e>=0&&(this.application_list.splice(e,1,t.metadata.item),this.application_list=[...this.application_list])}}))}}deleteApplication(t){if(t){const e=this._dialog.open(d.b,Object.assign(Object.assign({},d.a),{data:{title:"Delete application",content:`<p>Are you sure you want delete the application ${t.name}?</p><p>Configuration will be <strong>immediately</strong> updated</p>`,icon:{type:"icon",class:"backoffice-trash"}}}));this.subscription("delete_confirm",e.componentInstance.event.subscribe(i=>{"done"===i.reason&&(e.componentInstance.loading="Deleting application...",t.delete().then(()=>{this._service.notifySuccess(`Successfully deleted application "${t.name}".`),this.loadApplications(),e.close(),this.unsub("delete_confirm")},t=>{e.componentInstance.loading=null,this._service.notifyError(`Error deleting application. Error: ${JSON.stringify(t.response||t.message||t)}`)}))}))}}}return t.\u0275fac=function(e){return new(e||t)(h.Rb(b.a),h.Rb(m.b))},t.\u0275cmp=h.Lb({type:t,selectors:[["domain-applications"]],inputs:{item:"item"},features:[h.Ab,h.Bb],decls:1,vars:1,consts:[["class","container",4,"ngIf"],[1,"container"],[1,"select"],["mat-button","",3,"tapped"],["class","list",4,"ngIf"],["class","info-block",4,"ngIf"],[1,"list"],[1,"name"],[1,"flex"],[1,"scope"],[1,"duo"],[4,"ngFor","ngForOf"],[1,"name",3,"matTooltip"],[3,"href"],[1,"id"],[1,"secret",3,"click"],["mat-icon-button","",3,"tapped"],[3,"icon"],[1,"info-block"],[1,"text"]],template:function(t,e){1&t&&h.Pc(0,j,7,2,"div",0),2&t&&h.wc("ngIf",e.item)},directives:[n.m,k.b,p.b,n.l,T.a,$.a],styles:[".container[_ngcontent-%COMP%]{padding:1em}.options[_ngcontent-%COMP%]{display:flex;font-size:1.2em;max-width:5em;margin:0}.state[_ngcontent-%COMP%]{height:1.5em;width:1.5em;margin:.25em;background-color:#d32f2f;border-radius:.8em;transition:margin .25s,height .25s,width .25s,background-color .3s}.state.active[_ngcontent-%COMP%]{background-color:#4caf50;height:.75em;width:.75em;margin:.625em}.id[_ngcontent-%COMP%], .secret[_ngcontent-%COMP%]{font-family:Fira Code,monospace;font-size:.8em}.secret[_ngcontent-%COMP%]{color:#1976d2;text-decoration:underline}.duo[_ngcontent-%COMP%]{width:6.75em;display:flex}.table-row[_ngcontent-%COMP%]   .name[_ngcontent-%COMP%], .table-row[_ngcontent-%COMP%]   .scope[_ngcontent-%COMP%]{width:8em;min-width:8em}.select[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center}section[_ngcontent-%COMP%]{padding:.5em .25em}"]}),t})();i("OZ/3");var L,B,U,J=i("dQMc");L=$localize`:@@newAction␟52cb3a1dbc20365867f39819932e43d19542474d␟4948407374074297419:Add new`,B=$localize`:@@authTableName␟cff1428d10d59d14e45edec3c735a27b5482db59␟8953033926734869941:Name`,U=$localize`:@@authTableType␟f61c6867295f3b53d23557021f2f4e0aa1d0b8fc␟8650499415827640724:Type`;const K=function(){return{class:"backoffice-edit"}},G=function(){return{class:"backoffice-trash"}};function Y(t,e){if(1&t){const t=h.Yb();h.Xb(0,"tr"),h.Xb(1,"td",10),h.Rc(2),h.Wb(),h.Xb(3,"td",7),h.Rc(4),h.Wb(),h.Xb(5,"td",8),h.Xb(6,"button",11),h.mc("tapped",(function(){h.Hc(t);const i=e.$implicit;return h.qc(2).editAuthSource(i)})),h.Sb(7,"app-icon",12),h.Wb(),h.Xb(8,"button",11),h.mc("tapped",(function(){h.Hc(t);const i=e.$implicit;return h.qc(2).deleteAuthSource(i)})),h.Sb(9,"app-icon",12),h.Wb(),h.Wb(),h.Wb()}if(2&t){const t=e.$implicit,i=h.qc(2);h.Db(1),h.wc("matTooltip",t.id),h.Db(1),h.Sc(t.name),h.Db(2),h.Sc(i.source_types[t.id]),h.Db(3),h.wc("icon",h.xc(5,K)),h.Db(2),h.wc("icon",h.xc(6,G))}}function Q(t,e){if(1&t&&(h.Xb(0,"div",5),h.Xb(1,"table"),h.Xb(2,"thead"),h.Xb(3,"td",6),h.bc(4,B),h.Wb(),h.Xb(5,"td",7),h.bc(6,U),h.Wb(),h.Sb(7,"td",8),h.Wb(),h.Xb(8,"tbody"),h.Pc(9,Y,10,7,"tr",9),h.Wb(),h.Wb(),h.Wb()),2&t){const t=h.qc();h.Db(9),h.wc("ngForOf",t.auth_sources)}}var V,Z,tt,et,it;function nt(t,e){1&t&&(h.Xb(0,"div",13),h.Xb(1,"div",14),h.bc(2,V),h.Wb(),h.Wb())}function ot(t,e){if(1&t&&(h.Xb(0,"tr"),h.Xb(1,"td",8),h.Rc(2),h.Wb(),h.Xb(3,"td",5),h.Rc(4),h.Wb(),h.Xb(5,"td",6),h.Rc(6),h.Wb(),h.Wb()),2&t){const t=e.$implicit;h.Db(1),h.wc("matTooltip",t.id),h.Db(1),h.Sc(t.name),h.Db(2),h.Sc(t.email),h.Db(2),h.Sc(t.role)}}function ct(t,e){if(1&t&&(h.Xb(0,"div",3),h.Xb(1,"table"),h.Xb(2,"thead"),h.Xb(3,"td",4),h.bc(4,Z),h.Wb(),h.Xb(5,"td",5),h.bc(6,tt),h.Wb(),h.Xb(7,"td",6),h.bc(8,et),h.Wb(),h.Wb(),h.Xb(9,"tbody"),h.Pc(10,ot,7,4,"tr",7),h.Wb(),h.Wb(),h.Wb()),2&t){const t=h.qc();h.Db(10),h.wc("ngForOf",t.model.list)}}function st(t,e){1&t&&(h.Xb(0,"div",9),h.Xb(1,"div",10),h.bc(2,it),h.Wb(),h.Wb())}V=$localize`:@@authTableEmpty␟506dd45c68934158515169b689d4f77c5befe8f0␟6274894139040079425:No authentication sources found`,Z=$localize`:@@userTableName␟cff1428d10d59d14e45edec3c735a27b5482db59␟8953033926734869941:Name`,tt=$localize`:@@userTableEmail␟244aae9346da82b0922506c2d2581373a15641cc␟4768749765465246664:Email`,et=$localize`:@@userTableRole␟c36a66f2107e8da5371ebc9d15c2008dff567f46␟4145496584631696119:Role`,it=$localize`:@@userTableEmpty␟d4379e5174410d35da7928e24d0f49a45d74fcdb␟6279406018740594152:No users found`;const at=[{path:":id",component:P,children:[{path:"applications",component:H},{path:"authentication",component:(()=>{class t extends I.a{constructor(t,e){super(),this._service=t,this._dialog=e,this.auth_sources=[],this.source_types={}}ngOnInit(){this.subscription("item",this._service.listen("BACKOFFICE.active_item").subscribe(t=>{this.item=t,this.loadAuthSources()}))}ngOnChanges(t){t.item&&this.loadAuthSources()}loadAuthSources(t=0){this.item&&Promise.all([this._service.OAuthSources.query({authority_id:this.item.id,offset:t}),this._service.SAMLAuthSources.query({authority_id:this.item.id,offset:t}),this._service.LDAPAuthSources.query({authority_id:this.item.id,offset:t})]).then(e=>{t||(this.auth_sources=[]);for(const t of e)t.forEach(t=>this.addAuthSourceToList(t))},()=>null)}newAuthSource(){this._dialog.open(J.a,{width:"auto",height:"auto",data:{domain:this.item}}).afterClosed().subscribe(()=>this.loadAuthSources())}editAuthSource(t){this._dialog.open(J.a,{width:"auto",height:"auto",data:{domain:this.item,auth_source:t}}).afterClosed().subscribe(()=>this.loadAuthSources())}deleteAuthSource(t){if(t){const e=this._dialog.open(d.b,Object.assign(Object.assign({},d.a),{data:{title:"Delete auth source",content:"<p>Are you sure you want delete this auth source?</p><p>Deleting this will remove this auth source <strong>immediately</strong></p>",icon:{type:"icon",class:"backoffice-trash"}}}));this.subscription("delete_confirm",e.componentInstance.event.subscribe(i=>{"done"===i.reason&&(e.componentInstance.loading="Deleting auth source...",t.delete().then(()=>{this._service.notifySuccess("Successfully deleted auth source."),e.close(),this.unsub("delete_confirm"),this.loadAuthSources()},t=>{this._service.notifyError(`Error deleting auth source. Error ${JSON.stringify(t.response||t.message||t)}`),e.componentInstance.loading=null}))}))}}addAuthSourceToList(t){this.source_types[t.id]=t instanceof s.n?"saml":t instanceof s.i?"ldap":"oauth";const e=this.auth_sources.findIndex(e=>e.id===t.id);e<0?this.auth_sources.push(t):this.auth_sources.splice(e,1,t)}}return t.\u0275fac=function(e){return new(e||t)(h.Rb(b.a),h.Rb(m.b))},t.\u0275cmp=h.Lb({type:t,selectors:[["domain-authentication"]],inputs:{item:"item"},features:[h.Ab,h.Bb],decls:8,vars:2,consts:[[1,"container"],[1,"select"],["mat-button","",3,"tapped"],["class","list",4,"ngIf","ngIfElse"],["no_auth_sources",""],[1,"list"],[1,"name"],[1,"flex"],[1,"duo"],[4,"ngFor","ngForOf"],[1,"name",3,"matTooltip"],["mat-icon-button","",3,"tapped"],[3,"icon"],[1,"info-block"],[1,"text"]],template:function(t,e){if(1&t&&(h.Xb(0,"div",0),h.Xb(1,"section",1),h.Xb(2,"button",2),h.mc("tapped",(function(){return e.newAuthSource()})),h.bc(3,L),h.Wb(),h.Wb(),h.Xb(4,"section"),h.Pc(5,Q,10,1,"div",3),h.Wb(),h.Wb(),h.Pc(6,nt,3,0,"ng-template",null,4,h.Qc)),2&t){const t=h.Ec(7);h.Db(5),h.wc("ngIf",e.auth_sources&&e.auth_sources.length>0)("ngIfElse",t)}},directives:[k.b,p.b,n.m,n.l,T.a,$.a],styles:[".container[_ngcontent-%COMP%]{padding:1em}.options[_ngcontent-%COMP%]{display:flex;font-size:1.2em;max-width:5em;margin:0}.action[_ngcontent-%COMP%]{height:1.5em;width:1.5em;min-width:1.5em;border-radius:.65em;display:flex;align-items:center;justify-content:center;font-size:1.3em}.action[_ngcontent-%COMP%]:hover{background-color:rgba(0,0,0,.1)}.table-row[_ngcontent-%COMP%]   .name[_ngcontent-%COMP%]{width:8em;min-width:8em}.state[_ngcontent-%COMP%]{height:1.5em;width:1.5em;margin:.25em;background-color:#d32f2f;border-radius:.8em;transition:margin .25s,height .25s,width .25s,background-color .3s}.state.active[_ngcontent-%COMP%]{background-color:#4caf50;height:.75em;width:.75em;margin:.625em}.select[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center}section[_ngcontent-%COMP%]{padding:.5em .25em}.duo[_ngcontent-%COMP%]{width:6em;text-align:right}"]}),t})()},{path:"users",component:(()=>{class t extends I.a{constructor(t){super(),this._service=t,this.model={}}ngOnInit(){this.subscription("item",this._service.listen("BACKOFFICE.active_item").subscribe(t=>{this.item=t,this.loadUsers()})),this.loadUsers()}ngOnChanges(t){t.item&&this.loadUsers()}loadUsers(t=0){this.item&&this._service.Users.query({authority_id:this.item.id,offset:t}).then(e=>{t||(this.model.list=[]);for(const t of e||[]){let e=!1;for(const i of this.model.list)if(i.id===t.id){e=!0;break}e||this.model.list.push(t)}},()=>null)}}return t.\u0275fac=function(e){return new(e||t)(h.Rb(b.a))},t.\u0275cmp=h.Lb({type:t,selectors:[["domain-users"]],inputs:{item:"item"},features:[h.Ab,h.Bb],decls:4,vars:2,consts:[[1,"container"],["class","list",4,"ngIf"],["class","info-block",4,"ngIf"],[1,"list"],[1,"name"],[1,"flex"],[1,"role"],[4,"ngFor","ngForOf"],[1,"name",3,"matTooltip"],[1,"info-block"],[1,"text"]],template:function(t,e){1&t&&(h.Xb(0,"div",0),h.Xb(1,"section"),h.Pc(2,ct,11,1,"div",1),h.Pc(3,st,3,0,"div",2),h.Wb(),h.Wb()),2&t&&(h.Db(2),h.wc("ngIf",e.model.list&&e.model.list.length>0),h.Db(1),h.wc("ngIf",!e.model.list||e.model.list.length<=0))},directives:[n.m,n.l,T.a],styles:[".container[_ngcontent-%COMP%]{padding:1em}.options[_ngcontent-%COMP%]{display:flex;font-size:1.2em;max-width:5em;margin:0}.action[_ngcontent-%COMP%]{height:1.5em;width:1.5em;min-width:1.5em;border-radius:.65em;display:flex;align-items:center;justify-content:center;font-size:1.3em}.action[_ngcontent-%COMP%]:hover{background-color:rgba(0,0,0,.1)}.table-row[_ngcontent-%COMP%]   .name[_ngcontent-%COMP%]{width:12em;min-width:12em}.table-row[_ngcontent-%COMP%]   .role[_ngcontent-%COMP%]{width:8em;min-width:8em}.state[_ngcontent-%COMP%]{height:1.5em;width:1.5em;margin:.25em;background-color:#d32f2f;border-radius:.8em;transition:margin .25s,height .25s,width .25s,background-color .3s}.state.active[_ngcontent-%COMP%]{background-color:#4caf50;height:.75em;width:.75em;margin:.625em}.select[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center}section[_ngcontent-%COMP%]{padding:.5em .25em}"]}),t})()},{path:"**",redirectTo:"applications"}]},{path:"**",redirectTo:"-"}];var rt=i("PCNd");i.d(e,"AppDomainsModule",(function(){return dt}));let dt=(()=>{class t{}return t.\u0275mod=h.Pb({type:t}),t.\u0275inj=h.Ob({factory:function(e){return new(e||t)},imports:[[n.c,o.g,c.g.forChild(at),rt.a]]}),t})()}}]);